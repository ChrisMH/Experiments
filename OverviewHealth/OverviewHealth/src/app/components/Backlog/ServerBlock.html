<div class="block-left">
    <div class="block-title" [ngClass]="{'block-title-selected': server.showCustomerBacklog}">
        {{server.name}}
    </div>

    <div class="block-extra-info">
        <div class="block-extra-info-row">
            <div class="block-extra-info-label">Total received:</div>
            <div class="block-extra-info-value">{{server.totalReceived | number}}</div>
        </div>
        <div class="block-extra-info-row">
            <div class="block-extra-info-label">Last received on:</div>
            <div class="block-extra-info-value">{{server.lastReceivedOn | date : 'MM/dd/yyyy HH:mm:ss'}}</div>
        </div>
        <div class="block-extra-info-row">
            <div class="block-extra-info-label">CPU Usage:</div>
            <div class="block-extra-info-value">{{server.pctProcessorTime | number : 0}}%</div>
        </div>
        <div class="block-extra-info-row">
            <div class="block-extra-info-label">Available Memory:</div>
            <div class="block-extra-info-value">{{server.availableMBytes / 1000 | number: '1.2'}} GB</div>
        </div>
        <div class="block-extra-info-row">
            <div class="block-extra-info-label">Paging File Usage:</div>
            <div class="block-extra-info-value">{{server.pctPagingFileUsage | number : 0}}%</div>
        </div>
        <div class="block-extra-info-row">
            <div class="block-extra-info-label">DB Connections:</div>
            <div class="block-extra-info-value">{{server.databaseConnections | number}} ({{server.idleDatabaseConnections | number}} idle)</div>
        </div>
    </div>
</div>

<div class="block-right">
    
    <div class="block-count">
        <span>{{server.backlog}}</span>
    </div>
    

    <div class="block-controls">
        <div class="block-spinner" *ngIf="server.isLoading > 0" >
            <span class="fa fa-spinner fa-spin fa-2x"></span>
        </div>
        
        <div class="block-buttons">
            <button type="button" class="btn btn-default" (click)="onHistoryClick()" title="Show the history for this server">
                <span class="fa fa-history"></span>
            </button>
            <button type="button" class="btn btn-default" (click)="onExpandClick()" title="Toggle the customer backlog for this server">
                <span class="fa fa-lg" [ngClass]="{'fa-angle-double-right': !server.showCustomerBacklog, 'fa-angle-double-left': server.showCustomerBacklog}"></span>
            </button>
        </div>
    </div>
</div>
